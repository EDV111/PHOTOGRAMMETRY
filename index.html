<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test Website</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-ChfqqxuZUCnJSK3gBtuOyHlvxDmjM2+5TcSLz9/BeVRMMXQaBtMATP0mp7I5U1jQ"
    crossorigin="anonymous">
  <style>
    #dropzone {
      border: 2px dashed gray;
      padding: 1rem;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container my-4">
    <h1>Test Website</h1>
    <hr>
    <div id="dropzone">Drop a GLP file here to view its contents</div>
    <hr>
    <canvas id="preview"></canvas>
  </div>

  <script>
    // Set up the dropzone element to handle file drops
    var dropzone = document.getElementById('dropzone');
    dropzone.addEventListener('dragover', function (evt) {
      evt.preventDefault();
      dropzone.classList.add('border-primary');
    });
    dropzone.addEventListener('dragleave', function (evt) {
      evt.preventDefault();
      dropzone.classList.remove('border-primary');
    });
    dropzone.addEventListener('drop', function (evt) {
      evt.preventDefault();
      dropzone.classList.remove('border-primary');
      var file = evt.dataTransfer.files[0];
      if (file.type === 'application/octet-stream') {
        var reader = new FileReader();
        reader.onload = function (evt) {
          // Parse the GLP file and extract the relevant information
          var data = new DataView(evt.target.result);
          var numPoints = data.getInt32(0, true);
          var xCoords = new Float32Array(data.buffer, 4, numPoints);
          var yCoords = new Float32Array(data.buffer, 4 + numPoints * 4, numPoints);
          // Draw the points on a canvas element
          var canvas = document.getElementById('preview');
          var ctx = canvas.getContext('2d');
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = 'black';
          for (var i = 0; i < numPoints; i++) {
            ctx.beginPath();
            ctx.arc(xCoords[i], yCoords[i], 5, 0, 2 * Math.PI);
            ctx.fill();
          }
        };
        reader.readAsArrayBuffer(file);
      } else {
        alert('Please drop a GLP file.');
      }
    });
  </script>

</body>
</html>

